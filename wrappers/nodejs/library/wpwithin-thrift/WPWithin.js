//
// Autogenerated by Thrift Compiler (0.9.3)
//
// DO NOT EDIT UNLESS YOU ARE SURE THAT YOU KNOW WHAT YOU ARE DOING
//
var thrift = require('thrift');
var Thrift = thrift.Thrift;
var Q = thrift.Q;

var wptypes_ttypes = require('./wptypes_types')


var ttypes = require('./wpwithin_types');
//HELPER FUNCTIONS AND STRUCTURES

wpthrift.WPWithin_setup_args = function(args) {
  this.name = null;
  this.description = null;
  if (args) {
    if (args.name !== undefined && args.name !== null) {
      this.name = args.name;
    }
    if (args.description !== undefined && args.description !== null) {
      this.description = args.description;
    }
  }
};
wpthrift.WPWithin_setup_args.prototype = {};
wpthrift.WPWithin_setup_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.name = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.description = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_setup_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_setup_args');
  if (this.name !== null && this.name !== undefined) {
    output.writeFieldBegin('name', Thrift.Type.STRING, 1);
    output.writeString(this.name);
    output.writeFieldEnd();
  }
  if (this.description !== null && this.description !== undefined) {
    output.writeFieldBegin('description', Thrift.Type.STRING, 2);
    output.writeString(this.description);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_setup_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
wpthrift.WPWithin_setup_result.prototype = {};
wpthrift.WPWithin_setup_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_setup_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_setup_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_addService_args = function(args) {
  this.svc = null;
  if (args) {
    if (args.svc !== undefined && args.svc !== null) {
      this.svc = new wptypes_ttypes.Service(args.svc);
    }
  }
};
wpthrift.WPWithin_addService_args.prototype = {};
wpthrift.WPWithin_addService_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.svc = new wptypes_ttypes.Service();
        this.svc.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_addService_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_addService_args');
  if (this.svc !== null && this.svc !== undefined) {
    output.writeFieldBegin('svc', Thrift.Type.STRUCT, 1);
    this.svc.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_addService_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
wpthrift.WPWithin_addService_result.prototype = {};
wpthrift.WPWithin_addService_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_addService_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_addService_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_removeService_args = function(args) {
  this.svc = null;
  if (args) {
    if (args.svc !== undefined && args.svc !== null) {
      this.svc = new wptypes_ttypes.Service(args.svc);
    }
  }
};
wpthrift.WPWithin_removeService_args.prototype = {};
wpthrift.WPWithin_removeService_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.svc = new wptypes_ttypes.Service();
        this.svc.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_removeService_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_removeService_args');
  if (this.svc !== null && this.svc !== undefined) {
    output.writeFieldBegin('svc', Thrift.Type.STRUCT, 1);
    this.svc.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_removeService_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
wpthrift.WPWithin_removeService_result.prototype = {};
wpthrift.WPWithin_removeService_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_removeService_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_removeService_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_initConsumer_args = function(args) {
  this.scheme = null;
  this.hostname = null;
  this.port = null;
  this.urlPrefix = null;
  this.serverId = null;
  this.hceCard = null;
  if (args) {
    if (args.scheme !== undefined && args.scheme !== null) {
      this.scheme = args.scheme;
    }
    if (args.hostname !== undefined && args.hostname !== null) {
      this.hostname = args.hostname;
    }
    if (args.port !== undefined && args.port !== null) {
      this.port = args.port;
    }
    if (args.urlPrefix !== undefined && args.urlPrefix !== null) {
      this.urlPrefix = args.urlPrefix;
    }
    if (args.serverId !== undefined && args.serverId !== null) {
      this.serverId = args.serverId;
    }
    if (args.hceCard !== undefined && args.hceCard !== null) {
      this.hceCard = new wptypes_ttypes.HCECard(args.hceCard);
    }
  }
};
wpthrift.WPWithin_initConsumer_args.prototype = {};
wpthrift.WPWithin_initConsumer_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.scheme = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.hostname = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.I32) {
        this.port = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 4:
      if (ftype == Thrift.Type.STRING) {
        this.urlPrefix = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      case 5:
      if (ftype == Thrift.Type.STRING) {
        this.serverId = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      case 6:
      if (ftype == Thrift.Type.STRUCT) {
        this.hceCard = new wptypes_ttypes.HCECard();
        this.hceCard.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_initConsumer_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_initConsumer_args');
  if (this.scheme !== null && this.scheme !== undefined) {
    output.writeFieldBegin('scheme', Thrift.Type.STRING, 1);
    output.writeString(this.scheme);
    output.writeFieldEnd();
  }
  if (this.hostname !== null && this.hostname !== undefined) {
    output.writeFieldBegin('hostname', Thrift.Type.STRING, 2);
    output.writeString(this.hostname);
    output.writeFieldEnd();
  }
  if (this.port !== null && this.port !== undefined) {
    output.writeFieldBegin('port', Thrift.Type.I32, 3);
    output.writeI32(this.port);
    output.writeFieldEnd();
  }
  if (this.urlPrefix !== null && this.urlPrefix !== undefined) {
    output.writeFieldBegin('urlPrefix', Thrift.Type.STRING, 4);
    output.writeString(this.urlPrefix);
    output.writeFieldEnd();
  }
  if (this.serverId !== null && this.serverId !== undefined) {
    output.writeFieldBegin('serverId', Thrift.Type.STRING, 5);
    output.writeString(this.serverId);
    output.writeFieldEnd();
  }
  if (this.hceCard !== null && this.hceCard !== undefined) {
    output.writeFieldBegin('hceCard', Thrift.Type.STRUCT, 6);
    this.hceCard.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_initConsumer_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
wpthrift.WPWithin_initConsumer_result.prototype = {};
wpthrift.WPWithin_initConsumer_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_initConsumer_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_initConsumer_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_initProducer_args = function(args) {
  this.merchantClientKey = null;
  this.merchantServiceKey = null;
  if (args) {
    if (args.merchantClientKey !== undefined && args.merchantClientKey !== null) {
      this.merchantClientKey = args.merchantClientKey;
    }
    if (args.merchantServiceKey !== undefined && args.merchantServiceKey !== null) {
      this.merchantServiceKey = args.merchantServiceKey;
    }
  }
};
wpthrift.WPWithin_initProducer_args.prototype = {};
wpthrift.WPWithin_initProducer_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.merchantClientKey = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRING) {
        this.merchantServiceKey = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_initProducer_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_initProducer_args');
  if (this.merchantClientKey !== null && this.merchantClientKey !== undefined) {
    output.writeFieldBegin('merchantClientKey', Thrift.Type.STRING, 1);
    output.writeString(this.merchantClientKey);
    output.writeFieldEnd();
  }
  if (this.merchantServiceKey !== null && this.merchantServiceKey !== undefined) {
    output.writeFieldBegin('merchantServiceKey', Thrift.Type.STRING, 2);
    output.writeString(this.merchantServiceKey);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_initProducer_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
wpthrift.WPWithin_initProducer_result.prototype = {};
wpthrift.WPWithin_initProducer_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_initProducer_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_initProducer_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_getDevice_args = function(args) {
};
wpthrift.WPWithin_getDevice_args.prototype = {};
wpthrift.WPWithin_getDevice_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_getDevice_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_getDevice_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_getDevice_result = function(args) {
  this.success = null;
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new wptypes_ttypes.Device(args.success);
    }
  }
};
wpthrift.WPWithin_getDevice_result.prototype = {};
wpthrift.WPWithin_getDevice_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new wptypes_ttypes.Device();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_getDevice_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_getDevice_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_startServiceBroadcast_args = function(args) {
  this.timeoutMillis = null;
  if (args) {
    if (args.timeoutMillis !== undefined && args.timeoutMillis !== null) {
      this.timeoutMillis = args.timeoutMillis;
    }
  }
};
wpthrift.WPWithin_startServiceBroadcast_args.prototype = {};
wpthrift.WPWithin_startServiceBroadcast_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.timeoutMillis = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_startServiceBroadcast_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_startServiceBroadcast_args');
  if (this.timeoutMillis !== null && this.timeoutMillis !== undefined) {
    output.writeFieldBegin('timeoutMillis', Thrift.Type.I32, 1);
    output.writeI32(this.timeoutMillis);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_startServiceBroadcast_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
wpthrift.WPWithin_startServiceBroadcast_result.prototype = {};
wpthrift.WPWithin_startServiceBroadcast_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_startServiceBroadcast_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_startServiceBroadcast_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_stopServiceBroadcast_args = function(args) {
};
wpthrift.WPWithin_stopServiceBroadcast_args.prototype = {};
wpthrift.WPWithin_stopServiceBroadcast_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_stopServiceBroadcast_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_stopServiceBroadcast_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_stopServiceBroadcast_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
wpthrift.WPWithin_stopServiceBroadcast_result.prototype = {};
wpthrift.WPWithin_stopServiceBroadcast_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_stopServiceBroadcast_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_stopServiceBroadcast_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_deviceDiscovery_args = function(args) {
  this.timeoutMillis = null;
  if (args) {
    if (args.timeoutMillis !== undefined && args.timeoutMillis !== null) {
      this.timeoutMillis = args.timeoutMillis;
    }
  }
};
wpthrift.WPWithin_deviceDiscovery_args.prototype = {};
wpthrift.WPWithin_deviceDiscovery_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.timeoutMillis = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_deviceDiscovery_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_deviceDiscovery_args');
  if (this.timeoutMillis !== null && this.timeoutMillis !== undefined) {
    output.writeFieldBegin('timeoutMillis', Thrift.Type.I32, 1);
    output.writeI32(this.timeoutMillis);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_deviceDiscovery_result = function(args) {
  this.success = null;
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [wptypes_ttypes.ServiceMessage]);
    }
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
wpthrift.WPWithin_deviceDiscovery_result.prototype = {};
wpthrift.WPWithin_deviceDiscovery_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.SET) {
        var _size0 = 0;
        var _rtmp34;
        this.success = [];
        var _etype3 = 0;
        _rtmp34 = input.readSetBegin();
        _etype3 = _rtmp34.etype;
        _size0 = _rtmp34.size;
        for (var _i5 = 0; _i5 < _size0; ++_i5)
        {
          var elem6 = null;
          elem6 = new wptypes_ttypes.ServiceMessage();
          elem6.read(input);
          this.success.push(elem6);
        }
        input.readSetEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_deviceDiscovery_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_deviceDiscovery_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.SET, 0);
    output.writeSetBegin(Thrift.Type.STRUCT, this.success.length);
    for (var iter7 in this.success)
    {
      if (this.success.hasOwnProperty(iter7))
      {
        iter7 = this.success[iter7];
        iter7.write(output);
      }
    }
    output.writeSetEnd();
    output.writeFieldEnd();
  }
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_requestServices_args = function(args) {
};
wpthrift.WPWithin_requestServices_args.prototype = {};
wpthrift.WPWithin_requestServices_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    input.skip(ftype);
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_requestServices_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_requestServices_args');
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_requestServices_result = function(args) {
  this.success = null;
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [wptypes_ttypes.ServiceDetails]);
    }
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
wpthrift.WPWithin_requestServices_result.prototype = {};
wpthrift.WPWithin_requestServices_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.SET) {
        var _size8 = 0;
        var _rtmp312;
        this.success = [];
        var _etype11 = 0;
        _rtmp312 = input.readSetBegin();
        _etype11 = _rtmp312.etype;
        _size8 = _rtmp312.size;
        for (var _i13 = 0; _i13 < _size8; ++_i13)
        {
          var elem14 = null;
          elem14 = new wptypes_ttypes.ServiceDetails();
          elem14.read(input);
          this.success.push(elem14);
        }
        input.readSetEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_requestServices_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_requestServices_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.SET, 0);
    output.writeSetBegin(Thrift.Type.STRUCT, this.success.length);
    for (var iter15 in this.success)
    {
      if (this.success.hasOwnProperty(iter15))
      {
        iter15 = this.success[iter15];
        iter15.write(output);
      }
    }
    output.writeSetEnd();
    output.writeFieldEnd();
  }
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_getServicePrices_args = function(args) {
  this.serviceId = null;
  if (args) {
    if (args.serviceId !== undefined && args.serviceId !== null) {
      this.serviceId = args.serviceId;
    }
  }
};
wpthrift.WPWithin_getServicePrices_args.prototype = {};
wpthrift.WPWithin_getServicePrices_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.serviceId = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_getServicePrices_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_getServicePrices_args');
  if (this.serviceId !== null && this.serviceId !== undefined) {
    output.writeFieldBegin('serviceId', Thrift.Type.I32, 1);
    output.writeI32(this.serviceId);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_getServicePrices_result = function(args) {
  this.success = null;
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = Thrift.copyList(args.success, [wptypes_ttypes.Price]);
    }
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
wpthrift.WPWithin_getServicePrices_result.prototype = {};
wpthrift.WPWithin_getServicePrices_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.SET) {
        var _size16 = 0;
        var _rtmp320;
        this.success = [];
        var _etype19 = 0;
        _rtmp320 = input.readSetBegin();
        _etype19 = _rtmp320.etype;
        _size16 = _rtmp320.size;
        for (var _i21 = 0; _i21 < _size16; ++_i21)
        {
          var elem22 = null;
          elem22 = new wptypes_ttypes.Price();
          elem22.read(input);
          this.success.push(elem22);
        }
        input.readSetEnd();
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_getServicePrices_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_getServicePrices_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.SET, 0);
    output.writeSetBegin(Thrift.Type.STRUCT, this.success.length);
    for (var iter23 in this.success)
    {
      if (this.success.hasOwnProperty(iter23))
      {
        iter23 = this.success[iter23];
        iter23.write(output);
      }
    }
    output.writeSetEnd();
    output.writeFieldEnd();
  }
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_selectService_args = function(args) {
  this.serviceId = null;
  this.numberOfUnits = null;
  this.priceId = null;
  if (args) {
    if (args.serviceId !== undefined && args.serviceId !== null) {
      this.serviceId = args.serviceId;
    }
    if (args.numberOfUnits !== undefined && args.numberOfUnits !== null) {
      this.numberOfUnits = args.numberOfUnits;
    }
    if (args.priceId !== undefined && args.priceId !== null) {
      this.priceId = args.priceId;
    }
  }
};
wpthrift.WPWithin_selectService_args.prototype = {};
wpthrift.WPWithin_selectService_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.I32) {
        this.serviceId = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.I32) {
        this.numberOfUnits = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.I32) {
        this.priceId = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_selectService_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_selectService_args');
  if (this.serviceId !== null && this.serviceId !== undefined) {
    output.writeFieldBegin('serviceId', Thrift.Type.I32, 1);
    output.writeI32(this.serviceId);
    output.writeFieldEnd();
  }
  if (this.numberOfUnits !== null && this.numberOfUnits !== undefined) {
    output.writeFieldBegin('numberOfUnits', Thrift.Type.I32, 2);
    output.writeI32(this.numberOfUnits);
    output.writeFieldEnd();
  }
  if (this.priceId !== null && this.priceId !== undefined) {
    output.writeFieldBegin('priceId', Thrift.Type.I32, 3);
    output.writeI32(this.priceId);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_selectService_result = function(args) {
  this.success = null;
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new wptypes_ttypes.TotalPriceResponse(args.success);
    }
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
wpthrift.WPWithin_selectService_result.prototype = {};
wpthrift.WPWithin_selectService_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new wptypes_ttypes.TotalPriceResponse();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_selectService_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_selectService_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_makePayment_args = function(args) {
  this.request = null;
  if (args) {
    if (args.request !== undefined && args.request !== null) {
      this.request = new wptypes_ttypes.TotalPriceResponse(args.request);
    }
  }
};
wpthrift.WPWithin_makePayment_args.prototype = {};
wpthrift.WPWithin_makePayment_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.request = new wptypes_ttypes.TotalPriceResponse();
        this.request.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_makePayment_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_makePayment_args');
  if (this.request !== null && this.request !== undefined) {
    output.writeFieldBegin('request', Thrift.Type.STRUCT, 1);
    this.request.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_makePayment_result = function(args) {
  this.success = null;
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.success !== undefined && args.success !== null) {
      this.success = new wptypes_ttypes.PaymentResponse(args.success);
    }
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
wpthrift.WPWithin_makePayment_result.prototype = {};
wpthrift.WPWithin_makePayment_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 0:
      if (ftype == Thrift.Type.STRUCT) {
        this.success = new wptypes_ttypes.PaymentResponse();
        this.success.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_makePayment_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_makePayment_result');
  if (this.success !== null && this.success !== undefined) {
    output.writeFieldBegin('success', Thrift.Type.STRUCT, 0);
    this.success.write(output);
    output.writeFieldEnd();
  }
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_beginServiceDelivery_args = function(args) {
  this.clientId = null;
  this.serviceDeliveryToken = null;
  this.unitsToSupply = null;
  if (args) {
    if (args.clientId !== undefined && args.clientId !== null) {
      this.clientId = args.clientId;
    }
    if (args.serviceDeliveryToken !== undefined && args.serviceDeliveryToken !== null) {
      this.serviceDeliveryToken = new wptypes_ttypes.ServiceDeliveryToken(args.serviceDeliveryToken);
    }
    if (args.unitsToSupply !== undefined && args.unitsToSupply !== null) {
      this.unitsToSupply = args.unitsToSupply;
    }
  }
};
wpthrift.WPWithin_beginServiceDelivery_args.prototype = {};
wpthrift.WPWithin_beginServiceDelivery_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.clientId = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.serviceDeliveryToken = new wptypes_ttypes.ServiceDeliveryToken();
        this.serviceDeliveryToken.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.I32) {
        this.unitsToSupply = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_beginServiceDelivery_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_beginServiceDelivery_args');
  if (this.clientId !== null && this.clientId !== undefined) {
    output.writeFieldBegin('clientId', Thrift.Type.STRING, 1);
    output.writeString(this.clientId);
    output.writeFieldEnd();
  }
  if (this.serviceDeliveryToken !== null && this.serviceDeliveryToken !== undefined) {
    output.writeFieldBegin('serviceDeliveryToken', Thrift.Type.STRUCT, 2);
    this.serviceDeliveryToken.write(output);
    output.writeFieldEnd();
  }
  if (this.unitsToSupply !== null && this.unitsToSupply !== undefined) {
    output.writeFieldBegin('unitsToSupply', Thrift.Type.I32, 3);
    output.writeI32(this.unitsToSupply);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_beginServiceDelivery_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
wpthrift.WPWithin_beginServiceDelivery_result.prototype = {};
wpthrift.WPWithin_beginServiceDelivery_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_beginServiceDelivery_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_beginServiceDelivery_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_endServiceDelivery_args = function(args) {
  this.clientId = null;
  this.serviceDeliveryToken = null;
  this.unitsReceived = null;
  if (args) {
    if (args.clientId !== undefined && args.clientId !== null) {
      this.clientId = args.clientId;
    }
    if (args.serviceDeliveryToken !== undefined && args.serviceDeliveryToken !== null) {
      this.serviceDeliveryToken = new wptypes_ttypes.ServiceDeliveryToken(args.serviceDeliveryToken);
    }
    if (args.unitsReceived !== undefined && args.unitsReceived !== null) {
      this.unitsReceived = args.unitsReceived;
    }
  }
};
wpthrift.WPWithin_endServiceDelivery_args.prototype = {};
wpthrift.WPWithin_endServiceDelivery_args.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRING) {
        this.clientId = input.readString();
      } else {
        input.skip(ftype);
      }
      break;
      case 2:
      if (ftype == Thrift.Type.STRUCT) {
        this.serviceDeliveryToken = new wptypes_ttypes.ServiceDeliveryToken();
        this.serviceDeliveryToken.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 3:
      if (ftype == Thrift.Type.I32) {
        this.unitsReceived = input.readI32();
      } else {
        input.skip(ftype);
      }
      break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_endServiceDelivery_args.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_endServiceDelivery_args');
  if (this.clientId !== null && this.clientId !== undefined) {
    output.writeFieldBegin('clientId', Thrift.Type.STRING, 1);
    output.writeString(this.clientId);
    output.writeFieldEnd();
  }
  if (this.serviceDeliveryToken !== null && this.serviceDeliveryToken !== undefined) {
    output.writeFieldBegin('serviceDeliveryToken', Thrift.Type.STRUCT, 2);
    this.serviceDeliveryToken.write(output);
    output.writeFieldEnd();
  }
  if (this.unitsReceived !== null && this.unitsReceived !== undefined) {
    output.writeFieldBegin('unitsReceived', Thrift.Type.I32, 3);
    output.writeI32(this.unitsReceived);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithin_endServiceDelivery_result = function(args) {
  this.err = null;
  if (args instanceof wptypes_ttypes.Error) {
    this.err = args;
    return;
  }
  if (args) {
    if (args.err !== undefined && args.err !== null) {
      this.err = args.err;
    }
  }
};
wpthrift.WPWithin_endServiceDelivery_result.prototype = {};
wpthrift.WPWithin_endServiceDelivery_result.prototype.read = function(input) {
  input.readStructBegin();
  while (true)
  {
    var ret = input.readFieldBegin();
    var fname = ret.fname;
    var ftype = ret.ftype;
    var fid = ret.fid;
    if (ftype == Thrift.Type.STOP) {
      break;
    }
    switch (fid)
    {
      case 1:
      if (ftype == Thrift.Type.STRUCT) {
        this.err = new wptypes_ttypes.Error();
        this.err.read(input);
      } else {
        input.skip(ftype);
      }
      break;
      case 0:
        input.skip(ftype);
        break;
      default:
        input.skip(ftype);
    }
    input.readFieldEnd();
  }
  input.readStructEnd();
  return;
};

wpthrift.WPWithin_endServiceDelivery_result.prototype.write = function(output) {
  output.writeStructBegin('WPWithin_endServiceDelivery_result');
  if (this.err !== null && this.err !== undefined) {
    output.writeFieldBegin('err', Thrift.Type.STRUCT, 1);
    this.err.write(output);
    output.writeFieldEnd();
  }
  output.writeFieldStop();
  output.writeStructEnd();
  return;
};

wpthrift.WPWithinClient = exports.Client = function(output, pClass) {
    this.output = output;
    this.pClass = pClass;
    this._seqid = 0;
    this._reqs = {};
};
wpthrift.WPWithinClient.prototype = {};
wpthrift.WPWithinClient.prototype.seqid = function() { return this._seqid; }
wpthrift.WPWithinClient.prototype.new_seqid = function() { return this._seqid += 1; }
wpthrift.WPWithinClient.prototype.setup = function(name, description, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_setup(name, description);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_setup(name, description);
  }
};

wpthrift.WPWithinClient.prototype.send_setup = function(name, description) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('setup', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_setup_args();
  args.name = name;
  args.description = description;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_setup = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_setup_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null)
};
wpthrift.WPWithinClient.prototype.addService = function(svc, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_addService(svc);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_addService(svc);
  }
};

wpthrift.WPWithinClient.prototype.send_addService = function(svc) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('addService', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_addService_args();
  args.svc = svc;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_addService = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_addService_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null)
};
wpthrift.WPWithinClient.prototype.removeService = function(svc, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_removeService(svc);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_removeService(svc);
  }
};

wpthrift.WPWithinClient.prototype.send_removeService = function(svc) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('removeService', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_removeService_args();
  args.svc = svc;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_removeService = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_removeService_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null)
};
wpthrift.WPWithinClient.prototype.initConsumer = function(scheme, hostname, port, urlPrefix, serverId, hceCard, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_initConsumer(scheme, hostname, port, urlPrefix, serverId, hceCard);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_initConsumer(scheme, hostname, port, urlPrefix, serverId, hceCard);
  }
};

wpthrift.WPWithinClient.prototype.send_initConsumer = function(scheme, hostname, port, urlPrefix, serverId, hceCard) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('initConsumer', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_initConsumer_args();
  args.scheme = scheme;
  args.hostname = hostname;
  args.port = port;
  args.urlPrefix = urlPrefix;
  args.serverId = serverId;
  args.hceCard = hceCard;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_initConsumer = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_initConsumer_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null)
};
wpthrift.WPWithinClient.prototype.initProducer = function(merchantClientKey, merchantServiceKey, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_initProducer(merchantClientKey, merchantServiceKey);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_initProducer(merchantClientKey, merchantServiceKey);
  }
};

wpthrift.WPWithinClient.prototype.send_initProducer = function(merchantClientKey, merchantServiceKey) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('initProducer', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_initProducer_args();
  args.merchantClientKey = merchantClientKey;
  args.merchantServiceKey = merchantServiceKey;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_initProducer = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_initProducer_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null)
};
wpthrift.WPWithinClient.prototype.getDevice = function(callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_getDevice();
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_getDevice();
  }
};

wpthrift.WPWithinClient.prototype.send_getDevice = function() {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('getDevice', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_getDevice_args();
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_getDevice = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_getDevice_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('getDevice failed: unknown result');
};
wpthrift.WPWithinClient.prototype.startServiceBroadcast = function(timeoutMillis, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_startServiceBroadcast(timeoutMillis);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_startServiceBroadcast(timeoutMillis);
  }
};

wpthrift.WPWithinClient.prototype.send_startServiceBroadcast = function(timeoutMillis) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('startServiceBroadcast', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_startServiceBroadcast_args();
  args.timeoutMillis = timeoutMillis;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_startServiceBroadcast = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_startServiceBroadcast_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null)
};
wpthrift.WPWithinClient.prototype.stopServiceBroadcast = function(callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_stopServiceBroadcast();
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_stopServiceBroadcast();
  }
};

wpthrift.WPWithinClient.prototype.send_stopServiceBroadcast = function() {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('stopServiceBroadcast', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_stopServiceBroadcast_args();
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_stopServiceBroadcast = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_stopServiceBroadcast_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null)
};
wpthrift.WPWithinClient.prototype.deviceDiscovery = function(timeoutMillis, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_deviceDiscovery(timeoutMillis);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_deviceDiscovery(timeoutMillis);
  }
};

wpthrift.WPWithinClient.prototype.send_deviceDiscovery = function(timeoutMillis) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('deviceDiscovery', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_deviceDiscovery_args();
  args.timeoutMillis = timeoutMillis;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_deviceDiscovery = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_deviceDiscovery_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('deviceDiscovery failed: unknown result');
};
wpthrift.WPWithinClient.prototype.requestServices = function(callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_requestServices();
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_requestServices();
  }
};

wpthrift.WPWithinClient.prototype.send_requestServices = function() {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('requestServices', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_requestServices_args();
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_requestServices = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_requestServices_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('requestServices failed: unknown result');
};
wpthrift.WPWithinClient.prototype.getServicePrices = function(serviceId, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_getServicePrices(serviceId);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_getServicePrices(serviceId);
  }
};

wpthrift.WPWithinClient.prototype.send_getServicePrices = function(serviceId) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('getServicePrices', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_getServicePrices_args();
  args.serviceId = serviceId;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_getServicePrices = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_getServicePrices_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('getServicePrices failed: unknown result');
};
wpthrift.WPWithinClient.prototype.selectService = function(serviceId, numberOfUnits, priceId, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_selectService(serviceId, numberOfUnits, priceId);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_selectService(serviceId, numberOfUnits, priceId);
  }
};

wpthrift.WPWithinClient.prototype.send_selectService = function(serviceId, numberOfUnits, priceId) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('selectService', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_selectService_args();
  args.serviceId = serviceId;
  args.numberOfUnits = numberOfUnits;
  args.priceId = priceId;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_selectService = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_selectService_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('selectService failed: unknown result');
};
wpthrift.WPWithinClient.prototype.makePayment = function(request, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_makePayment(request);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_makePayment(request);
  }
};

wpthrift.WPWithinClient.prototype.send_makePayment = function(request) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('makePayment', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_makePayment_args();
  args.request = request;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_makePayment = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_makePayment_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  if (null !== result.success) {
    return callback(null, result.success);
  }
  return callback('makePayment failed: unknown result');
};
wpthrift.WPWithinClient.prototype.beginServiceDelivery = function(clientId, serviceDeliveryToken, unitsToSupply, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_beginServiceDelivery(clientId, serviceDeliveryToken, unitsToSupply);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_beginServiceDelivery(clientId, serviceDeliveryToken, unitsToSupply);
  }
};

wpthrift.WPWithinClient.prototype.send_beginServiceDelivery = function(clientId, serviceDeliveryToken, unitsToSupply) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('beginServiceDelivery', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_beginServiceDelivery_args();
  args.clientId = clientId;
  args.serviceDeliveryToken = serviceDeliveryToken;
  args.unitsToSupply = unitsToSupply;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_beginServiceDelivery = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_beginServiceDelivery_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null)
};
wpthrift.WPWithinClient.prototype.endServiceDelivery = function(clientId, serviceDeliveryToken, unitsReceived, callback) {
  this._seqid = this.new_seqid();
  if (callback === undefined) {
    var _defer = Q.defer();
    this._reqs[this.seqid()] = function(error, result) {
      if (error) {
        _defer.reject(error);
      } else {
        _defer.resolve(result);
      }
    };
    this.send_endServiceDelivery(clientId, serviceDeliveryToken, unitsReceived);
    return _defer.promise;
  } else {
    this._reqs[this.seqid()] = callback;
    this.send_endServiceDelivery(clientId, serviceDeliveryToken, unitsReceived);
  }
};

wpthrift.WPWithinClient.prototype.send_endServiceDelivery = function(clientId, serviceDeliveryToken, unitsReceived) {
  var output = new this.pClass(this.output);
  output.writeMessageBegin('endServiceDelivery', Thrift.MessageType.CALL, this.seqid());
  var args = new wpthrift.WPWithin_endServiceDelivery_args();
  args.clientId = clientId;
  args.serviceDeliveryToken = serviceDeliveryToken;
  args.unitsReceived = unitsReceived;
  args.write(output);
  output.writeMessageEnd();
  return this.output.flush();
};

wpthrift.WPWithinClient.prototype.recv_endServiceDelivery = function(input,mtype,rseqid) {
  var callback = this._reqs[rseqid] || function() {};
  delete this._reqs[rseqid];
  if (mtype == Thrift.MessageType.EXCEPTION) {
    var x = new Thrift.TApplicationException();
    x.read(input);
    input.readMessageEnd();
    return callback(x);
  }
  var result = new wpthrift.WPWithin_endServiceDelivery_result();
  result.read(input);
  input.readMessageEnd();

  if (null !== result.err) {
    return callback(result.err);
  }
  callback(null)
};
wpthrift.WPWithinProcessor = exports.Processor = function(handler) {
  this._handler = handler
}
wpthrift.WPWithinProcessor.prototype.process = function(input, output) {
  var r = input.readMessageBegin();
  if (this['process_' + r.fname]) {
    return this['process_' + r.fname].call(this, r.rseqid, input, output);
  } else {
    input.skip(Thrift.Type.STRUCT);
    input.readMessageEnd();
    var x = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN_METHOD, 'Unknown function ' + r.fname);
    output.writeMessageBegin(r.fname, Thrift.MessageType.EXCEPTION, r.rseqid);
    x.write(output);
    output.writeMessageEnd();
    output.flush();
  }
}

wpthrift.WPWithinProcessor.prototype.process_setup = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_setup_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.setup.length === 2) {
    Q.fcall(this._handler.setup, args.name, args.description)
      .then(function(result) {
        var result = new wpthrift.WPWithin_setup_result({success: result});
        output.writeMessageBegin("setup", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        if (err instanceof wptypes_ttypes.Error) {
          var result = new wpthrift.WPWithin_setup_result(err);
          output.writeMessageBegin("setup", Thrift.MessageType.REPLY, seqid);
        } else {
          var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("setup", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.setup(args.name, args.description, function (err, result) {
      if (err == null || err instanceof wptypes_ttypes.Error) {
        var result = new wpthrift.WPWithin_setup_result((err != null ? err : {success: result}));
        output.writeMessageBegin("setup", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("setup", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

wpthrift.WPWithinProcessor.prototype.process_addService = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_addService_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.addService.length === 1) {
    Q.fcall(this._handler.addService, args.svc)
      .then(function(result) {
        var result = new wpthrift.WPWithin_addService_result({success: result});
        output.writeMessageBegin("addService", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        if (err instanceof wptypes_ttypes.Error) {
          var result = new wpthrift.WPWithin_addService_result(err);
          output.writeMessageBegin("addService", Thrift.MessageType.REPLY, seqid);
        } else {
          var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("addService", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.addService(args.svc, function (err, result) {
      if (err == null || err instanceof wptypes_ttypes.Error) {
        var result = new wpthrift.WPWithin_addService_result((err != null ? err : {success: result}));
        output.writeMessageBegin("addService", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("addService", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

wpthrift.WPWithinProcessor.prototype.process_removeService = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_removeService_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.removeService.length === 1) {
    Q.fcall(this._handler.removeService, args.svc)
      .then(function(result) {
        var result = new wpthrift.WPWithin_removeService_result({success: result});
        output.writeMessageBegin("removeService", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        if (err instanceof wptypes_ttypes.Error) {
          var result = new wpthrift.WPWithin_removeService_result(err);
          output.writeMessageBegin("removeService", Thrift.MessageType.REPLY, seqid);
        } else {
          var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("removeService", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.removeService(args.svc, function (err, result) {
      if (err == null || err instanceof wptypes_ttypes.Error) {
        var result = new wpthrift.WPWithin_removeService_result((err != null ? err : {success: result}));
        output.writeMessageBegin("removeService", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("removeService", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

wpthrift.WPWithinProcessor.prototype.process_initConsumer = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_initConsumer_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.initConsumer.length === 6) {
    Q.fcall(this._handler.initConsumer, args.scheme, args.hostname, args.port, args.urlPrefix, args.serverId, args.hceCard)
      .then(function(result) {
        var result = new wpthrift.WPWithin_initConsumer_result({success: result});
        output.writeMessageBegin("initConsumer", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        if (err instanceof wptypes_ttypes.Error) {
          var result = new wpthrift.WPWithin_initConsumer_result(err);
          output.writeMessageBegin("initConsumer", Thrift.MessageType.REPLY, seqid);
        } else {
          var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("initConsumer", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.initConsumer(args.scheme, args.hostname, args.port, args.urlPrefix, args.serverId, args.hceCard, function (err, result) {
      if (err == null || err instanceof wptypes_ttypes.Error) {
        var result = new wpthrift.WPWithin_initConsumer_result((err != null ? err : {success: result}));
        output.writeMessageBegin("initConsumer", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("initConsumer", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

wpthrift.WPWithinProcessor.prototype.process_initProducer = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_initProducer_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.initProducer.length === 2) {
    Q.fcall(this._handler.initProducer, args.merchantClientKey, args.merchantServiceKey)
      .then(function(result) {
        var result = new wpthrift.WPWithin_initProducer_result({success: result});
        output.writeMessageBegin("initProducer", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        if (err instanceof wptypes_ttypes.Error) {
          var result = new wpthrift.WPWithin_initProducer_result(err);
          output.writeMessageBegin("initProducer", Thrift.MessageType.REPLY, seqid);
        } else {
          var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("initProducer", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.initProducer(args.merchantClientKey, args.merchantServiceKey, function (err, result) {
      if (err == null || err instanceof wptypes_ttypes.Error) {
        var result = new wpthrift.WPWithin_initProducer_result((err != null ? err : {success: result}));
        output.writeMessageBegin("initProducer", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("initProducer", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

wpthrift.WPWithinProcessor.prototype.process_getDevice = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_getDevice_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.getDevice.length === 0) {
    Q.fcall(this._handler.getDevice)
      .then(function(result) {
        var result = new wpthrift.WPWithin_getDevice_result({success: result});
        output.writeMessageBegin("getDevice", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("getDevice", Thrift.MessageType.EXCEPTION, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.getDevice(function (err, result) {
      if (err == null) {
        var result = new wpthrift.WPWithin_getDevice_result((err != null ? err : {success: result}));
        output.writeMessageBegin("getDevice", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("getDevice", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

wpthrift.WPWithinProcessor.prototype.process_startServiceBroadcast = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_startServiceBroadcast_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.startServiceBroadcast.length === 1) {
    Q.fcall(this._handler.startServiceBroadcast, args.timeoutMillis)
      .then(function(result) {
        var result = new wpthrift.WPWithin_startServiceBroadcast_result({success: result});
        output.writeMessageBegin("startServiceBroadcast", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        if (err instanceof wptypes_ttypes.Error) {
          var result = new wpthrift.WPWithin_startServiceBroadcast_result(err);
          output.writeMessageBegin("startServiceBroadcast", Thrift.MessageType.REPLY, seqid);
        } else {
          var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("startServiceBroadcast", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.startServiceBroadcast(args.timeoutMillis, function (err, result) {
      if (err == null || err instanceof wptypes_ttypes.Error) {
        var result = new wpthrift.WPWithin_startServiceBroadcast_result((err != null ? err : {success: result}));
        output.writeMessageBegin("startServiceBroadcast", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("startServiceBroadcast", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

wpthrift.WPWithinProcessor.prototype.process_stopServiceBroadcast = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_stopServiceBroadcast_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.stopServiceBroadcast.length === 0) {
    Q.fcall(this._handler.stopServiceBroadcast)
      .then(function(result) {
        var result = new wpthrift.WPWithin_stopServiceBroadcast_result({success: result});
        output.writeMessageBegin("stopServiceBroadcast", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        if (err instanceof wptypes_ttypes.Error) {
          var result = new wpthrift.WPWithin_stopServiceBroadcast_result(err);
          output.writeMessageBegin("stopServiceBroadcast", Thrift.MessageType.REPLY, seqid);
        } else {
          var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("stopServiceBroadcast", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.stopServiceBroadcast(function (err, result) {
      if (err == null || err instanceof wptypes_ttypes.Error) {
        var result = new wpthrift.WPWithin_stopServiceBroadcast_result((err != null ? err : {success: result}));
        output.writeMessageBegin("stopServiceBroadcast", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("stopServiceBroadcast", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

wpthrift.WPWithinProcessor.prototype.process_deviceDiscovery = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_deviceDiscovery_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.deviceDiscovery.length === 1) {
    Q.fcall(this._handler.deviceDiscovery, args.timeoutMillis)
      .then(function(result) {
        var result = new wpthrift.WPWithin_deviceDiscovery_result({success: result});
        output.writeMessageBegin("deviceDiscovery", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        if (err instanceof wptypes_ttypes.Error) {
          var result = new wpthrift.WPWithin_deviceDiscovery_result(err);
          output.writeMessageBegin("deviceDiscovery", Thrift.MessageType.REPLY, seqid);
        } else {
          var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("deviceDiscovery", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.deviceDiscovery(args.timeoutMillis, function (err, result) {
      if (err == null || err instanceof wptypes_ttypes.Error) {
        var result = new wpthrift.WPWithin_deviceDiscovery_result((err != null ? err : {success: result}));
        output.writeMessageBegin("deviceDiscovery", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("deviceDiscovery", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

wpthrift.WPWithinProcessor.prototype.process_requestServices = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_requestServices_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.requestServices.length === 0) {
    Q.fcall(this._handler.requestServices)
      .then(function(result) {
        var result = new wpthrift.WPWithin_requestServices_result({success: result});
        output.writeMessageBegin("requestServices", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        if (err instanceof wptypes_ttypes.Error) {
          var result = new wpthrift.WPWithin_requestServices_result(err);
          output.writeMessageBegin("requestServices", Thrift.MessageType.REPLY, seqid);
        } else {
          var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("requestServices", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.requestServices(function (err, result) {
      if (err == null || err instanceof wptypes_ttypes.Error) {
        var result = new wpthrift.WPWithin_requestServices_result((err != null ? err : {success: result}));
        output.writeMessageBegin("requestServices", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("requestServices", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

wpthrift.WPWithinProcessor.prototype.process_getServicePrices = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_getServicePrices_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.getServicePrices.length === 1) {
    Q.fcall(this._handler.getServicePrices, args.serviceId)
      .then(function(result) {
        var result = new wpthrift.WPWithin_getServicePrices_result({success: result});
        output.writeMessageBegin("getServicePrices", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        if (err instanceof wptypes_ttypes.Error) {
          var result = new wpthrift.WPWithin_getServicePrices_result(err);
          output.writeMessageBegin("getServicePrices", Thrift.MessageType.REPLY, seqid);
        } else {
          var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("getServicePrices", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.getServicePrices(args.serviceId, function (err, result) {
      if (err == null || err instanceof wptypes_ttypes.Error) {
        var result = new wpthrift.WPWithin_getServicePrices_result((err != null ? err : {success: result}));
        output.writeMessageBegin("getServicePrices", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("getServicePrices", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

wpthrift.WPWithinProcessor.prototype.process_selectService = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_selectService_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.selectService.length === 3) {
    Q.fcall(this._handler.selectService, args.serviceId, args.numberOfUnits, args.priceId)
      .then(function(result) {
        var result = new wpthrift.WPWithin_selectService_result({success: result});
        output.writeMessageBegin("selectService", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        if (err instanceof wptypes_ttypes.Error) {
          var result = new wpthrift.WPWithin_selectService_result(err);
          output.writeMessageBegin("selectService", Thrift.MessageType.REPLY, seqid);
        } else {
          var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("selectService", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.selectService(args.serviceId, args.numberOfUnits, args.priceId, function (err, result) {
      if (err == null || err instanceof wptypes_ttypes.Error) {
        var result = new wpthrift.WPWithin_selectService_result((err != null ? err : {success: result}));
        output.writeMessageBegin("selectService", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("selectService", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

wpthrift.WPWithinProcessor.prototype.process_makePayment = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_makePayment_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.makePayment.length === 1) {
    Q.fcall(this._handler.makePayment, args.request)
      .then(function(result) {
        var result = new wpthrift.WPWithin_makePayment_result({success: result});
        output.writeMessageBegin("makePayment", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        if (err instanceof wptypes_ttypes.Error) {
          var result = new wpthrift.WPWithin_makePayment_result(err);
          output.writeMessageBegin("makePayment", Thrift.MessageType.REPLY, seqid);
        } else {
          var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("makePayment", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.makePayment(args.request, function (err, result) {
      if (err == null || err instanceof wptypes_ttypes.Error) {
        var result = new wpthrift.WPWithin_makePayment_result((err != null ? err : {success: result}));
        output.writeMessageBegin("makePayment", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("makePayment", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

wpthrift.WPWithinProcessor.prototype.process_beginServiceDelivery = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_beginServiceDelivery_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.beginServiceDelivery.length === 3) {
    Q.fcall(this._handler.beginServiceDelivery, args.clientId, args.serviceDeliveryToken, args.unitsToSupply)
      .then(function(result) {
        var result = new wpthrift.WPWithin_beginServiceDelivery_result({success: result});
        output.writeMessageBegin("beginServiceDelivery", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        if (err instanceof wptypes_ttypes.Error) {
          var result = new wpthrift.WPWithin_beginServiceDelivery_result(err);
          output.writeMessageBegin("beginServiceDelivery", Thrift.MessageType.REPLY, seqid);
        } else {
          var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("beginServiceDelivery", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.beginServiceDelivery(args.clientId, args.serviceDeliveryToken, args.unitsToSupply, function (err, result) {
      if (err == null || err instanceof wptypes_ttypes.Error) {
        var result = new wpthrift.WPWithin_beginServiceDelivery_result((err != null ? err : {success: result}));
        output.writeMessageBegin("beginServiceDelivery", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("beginServiceDelivery", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

wpthrift.WPWithinProcessor.prototype.process_endServiceDelivery = function(seqid, input, output) {
  var args = new wpthrift.WPWithin_endServiceDelivery_args();
  args.read(input);
  input.readMessageEnd();
  if (this._handler.endServiceDelivery.length === 3) {
    Q.fcall(this._handler.endServiceDelivery, args.clientId, args.serviceDeliveryToken, args.unitsReceived)
      .then(function(result) {
        var result = new wpthrift.WPWithin_endServiceDelivery_result({success: result});
        output.writeMessageBegin("endServiceDelivery", Thrift.MessageType.REPLY, seqid);
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      }, function (err) {
        if (err instanceof wptypes_ttypes.Error) {
          var result = new wpthrift.WPWithin_endServiceDelivery_result(err);
          output.writeMessageBegin("endServiceDelivery", Thrift.MessageType.REPLY, seqid);
        } else {
          var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
          output.writeMessageBegin("endServiceDelivery", Thrift.MessageType.EXCEPTION, seqid);
        }
        result.write(output);
        output.writeMessageEnd();
        output.flush();
      });
  } else {
    this._handler.endServiceDelivery(args.clientId, args.serviceDeliveryToken, args.unitsReceived, function (err, result) {
      if (err == null || err instanceof wptypes_ttypes.Error) {
        var result = new wpthrift.WPWithin_endServiceDelivery_result((err != null ? err : {success: result}));
        output.writeMessageBegin("endServiceDelivery", Thrift.MessageType.REPLY, seqid);
      } else {
        var result = new Thrift.TApplicationException(Thrift.TApplicationExceptionType.UNKNOWN, err.message);
        output.writeMessageBegin("endServiceDelivery", Thrift.MessageType.EXCEPTION, seqid);
      }
      result.write(output);
      output.writeMessageEnd();
      output.flush();
    });
  }
}

